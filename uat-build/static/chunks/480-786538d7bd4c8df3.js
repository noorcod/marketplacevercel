(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[480],{34734:function(e,n,t){"use strict";t.d(n,{E3:function(){return l.default},EY:function(){return u.default},JE:function(){return w.default},JT:function(){return _.default},KB:function(){return C.default},K_:function(){return i.default},LF:function(){return m.default},NE:function(){return p.default},PB:function(){return y.default},PJ:function(){return b.default},QN:function(){return h.default},TV:function(){return k.default},VZ:function(){return S.default},W3:function(){return r.default},Zp:function(){return c.default},hp:function(){return g.default},iP:function(){return a.default},m1:function(){return d.default},mi:function(){return v.default},ss:function(){return s.default},wP:function(){return o.default},y2:function(){return f.default}});var o=t(53536),a=t(114);t(70741),t(98128),t(82066),t(61190);var i=t(18644);t(50871);var l=t(94854),r=t(72835),c=t(29198),u=t(18751),s=t(68944),d=t(80430),v=t(42227),f=t(80994),g=t(87808),h=t(95455);t(22694),t(68132),t(93793);var m=t(87341),y=t(66404);t(67074),t(13023),t(28847),t(87780),t(65058),t(98090),t(93505),t(67775),t(97268),t(30653),t(46398),t(69086),t(23695);var w=t(33691),p=t(43212),_=t(47501),b=t(70814),S=t(90105),k=t(70716),C=t(36654);t(20197)},89277:function(e,n,t){"use strict";t.d(n,{AC:function(){return c},AH:function(){return _},C4:function(){return g},Ez:function(){return u},Ff:function(){return f},JW:function(){return j},O3:function(){return y},QG:function(){return d},TO:function(){return p},Yu:function(){return l},ec:function(){return S},fm:function(){return k},hw:function(){return b},iY:function(){return x},jM:function(){return I},kH:function(){return s},n4:function(){return T},nF:function(){return w},r1:function(){return m},sj:function(){return N},uN:function(){return r},wI:function(){return C},y5:function(){return v},yY:function(){return h}});var o=t(24214),a=t(80462);let i=o.Z.create({baseURL:a.r5});async function l(e){let n=await i.get("/shop/one/".concat(e));return n}async function r(e,n){let t=new URLSearchParams(n);t.delete("priceFrom"),t.delete("priceTo");let o=await i.get("/listings/filters/shop/".concat(e),{params:t});return o}async function c(e,n,t){let o=new URLSearchParams(t);o.delete("category_id");let a=await i.get("/listings/filters/shop/".concat(e,"/c/").concat(n),{params:o});return a}async function u(e,n,t,o,a){new URLSearchParams;let l=await i.get("shop/".concat(o,"/items?page=").concat(n,"&size=").concat(t),{params:a});return l}async function s(e){let n=await i.get("/listings/detail/".concat(e));return n}async function d(e){let n=await i.get("Listings/related-items/".concat(e));return n}async function v(e){let n=await i.get("/auth/google/".concat(e));return n}async function f(e){let n=await i.get("/auth/facebook/".concat(e));return n}async function g(e,n,t){new URLSearchParams(t);let o=await i.get("/listings?page=".concat(e,"&size=").concat(n||""),{params:t});return o}async function h(e){let n=new URLSearchParams(e);n.delete("priceFrom"),n.delete("priceTo");let t=await i.get("/listings/filters",{params:n});return t}async function m(e,n){let t=new URLSearchParams(n);t.delete("category_id"),t.delete("sort");let o=await i.get("/listings/filters/c/".concat(e),{params:t});return o}async function y(){let e=await i.get("/listings/random?count=15");return e}async function w(){let e=await i.get("/shop/all?page=".concat(1,"&size=",27));return e}async function p(e){let n=await i.get("/auth/get-user",{headers:{Authorization:e}});return n}async function _(e,n,t,o){if(t&&o){let a=await i.get("/user-wishlist/".concat(n,"?page=").concat(t,"&size=").concat(o),{headers:{Authorization:e}});return a}{let t=await i.get("/user-wishlist/".concat(n,"?returnIds=1"),{headers:{Authorization:e}});return t}}async function b(){let e=await i.get("/city");return e}async function S(){let e=await i.get("/condition");return e}async function k(e,n,t,o){let a,l=new URLSearchParams(o);a=6===t?"/model/".concat(t,"/all?").concat(encodeURIComponent("at_id=".concat(l.get("at_id"),"&page=").concat(e,"&size=").concat(n))):"/model/".concat(t,"/all?page=").concat(e,"&size=").concat(n);let r=await i.get(a,{params:l});return r}async function C(){let e=await i.get("/model/accessory-types");return e}async function T(e,n){let t=new URLSearchParams(n);t.delete("sort");let o={params:0===t.size?"":t},a=await i.get("/model/filters/".concat(e),o);return a}async function x(e){let n=await i.get("/model/".concat(e));return n}async function j(e){let n=await i.get("/model/".concat(e,"/related-models?page=1&size=10&criteria=mix"));return n}async function I(e){let n=await i.get("/model/".concat(e,"/related-listing"));return n}async function N(e,n){let t=await i.get("/shop/all?page=".concat(e,"&size=").concat(n));return t}},28894:function(e,n,t){"use strict";var o=t(9268),a=t(76394),i=t.n(a),l=t(35846),r=t.n(l),c=t(56008),u=t(86006),s=t(99362),d=t(21630),v=t(24161),f=t(67755),g=t(34734),h=t(62911),m=t.n(h),y=t(9766);n.Z=function(e){let{googleLogin:n,navigate:t,fetchGoogleUserData:a}=(0,y.Z)(),l=(0,c.useRouter)();(0,u.useEffect)(()=>{a.data&&e.onHide()},[a.data]);let h=(0,c.usePathname)();return(0,o.jsx)(v.Z,{...e,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:(0,o.jsxs)(v.Z.Body,{className:"d-grid  ".concat(m().modal),children:[(0,o.jsx)("span",{onClick:e.onHide,className:"".concat(m().cross," cursor-pointer"),children:(0,o.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",role:"img",className:"icon icon-24 lazyloaded",children:[(0,o.jsx)("rect",{x:"3",y:"5",width:"18",height:"16",fill:"white"}),(0,o.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.5051 0.135254C14.9528 0.135152 17.3455 0.860879 19.3807 2.22066C21.416 3.58044 23.0022 5.51321 23.939 7.77453C24.8757 10.0359 25.1209 12.5242 24.6434 14.9248C24.166 17.3255 22.9873 19.5306 21.2566 21.2614C19.5259 22.9922 17.3207 24.1709 14.9201 24.6485C12.5195 25.126 10.0311 24.881 7.76979 23.9443C5.50843 23.0076 3.57561 21.4214 2.21576 19.3862C0.855913 17.3511 0.130107 14.9583 0.130127 12.5107C0.130141 9.22858 1.43392 6.08092 3.75467 3.76009C6.07542 1.43926 9.22304 0.135377 12.5051 0.135254V0.135254ZM7.13525 16.4156C6.9463 16.6101 6.84148 16.8711 6.84346 17.1423C6.84544 17.4135 6.95406 17.6729 7.14583 17.8647C7.3376 18.0564 7.59711 18.1649 7.86827 18.1668C8.13943 18.1687 8.40044 18.0638 8.59488 17.8748L12.4997 13.9699L16.4103 17.8805C16.6047 18.0698 16.8659 18.1749 17.1372 18.1731C17.4085 18.1712 17.6682 18.0626 17.8601 17.8707C18.0519 17.6788 18.1605 17.4191 18.1623 17.1478C18.164 16.8765 18.0589 16.6153 17.8695 16.421L13.9592 12.5106L17.8847 8.58516C18.072 8.39039 18.1754 8.12994 18.1727 7.85976C18.1701 7.58958 18.0616 7.33122 17.8705 7.14017C17.6795 6.94911 17.4211 6.8406 17.1509 6.83794C16.8808 6.83529 16.6203 6.93869 16.4255 7.12594L12.4997 11.051L8.57998 7.13125C8.38644 6.93769 8.12393 6.82894 7.8502 6.82892C7.57647 6.82891 7.31394 6.93763 7.12038 7.13118C6.92681 7.32472 6.81806 7.58724 6.81804 7.86097C6.81803 8.13469 6.92675 8.39722 7.1203 8.59078L11.0402 12.5106L7.13525 16.4156Z",fill:"#979797"})]})}),(0,o.jsxs)(f.Z,{className:"p-0 ",children:[(0,o.jsx)(d.Z,{md:0,lg:5,sm:0,className:" h-100 bg-light  d-none justify-content-center d-lg-grid d-sm-none d-md-none align-items-center ".concat(m().logoCol),children:(0,o.jsxs)("div",{className:"justify-content-center  d-grid ",children:[(0,o.jsx)("div",{className:"text-center",children:(0,o.jsx)(i(),{alt:"banner",className:"text-center",src:g.wP,width:50,height:50})}),(0,o.jsx)(i(),{alt:"banner",className:"mb-0",src:g.iP,width:150,height:30})]})}),(0,o.jsxs)(d.Z,{md:12,lg:7,sm:12,className:" h-100 justify-content-center d-grid align-items-center ".concat(m().SignDiv),children:[(0,o.jsx)("h1",{className:"".concat(m().bannerText),children:"Already a TechBazaar User"}),(0,o.jsxs)(s.Z,{onClick:()=>{t(h),n()},className:"fs-14 w-100 py-3 mb-3 mt-3",variant:"dark",size:"lg",children:[(0,o.jsx)("img",{className:"mx-2",height:23,width:23,src:"https://www.svgrepo.com/download/448227/google.svg"}),"Continue with Google"]}),(0,o.jsxs)("div",{className:"".concat(m().signup_content__line_break),children:[(0,o.jsx)("div",{className:"".concat(m().divider)}),(0,o.jsx)("div",{className:"".concat(m().signup_content__or),children:"or"})]}),(0,o.jsx)(r(),{onClick:()=>l.push("/login"),className:"fs-14 w-100 py-3 btn btn-outline-light",href:"/login?redirect=".concat(h),size:"lg",children:"Continue with Email"}),(0,o.jsx)("div",{className:"mt-4 d-flex justify-content-center",children:(0,o.jsxs)("span",{children:[" Don't have an account? ",(0,o.jsx)(r(),{className:"link text-decoration-underline",href:"/signup",children:"Create an Account "})," "]})})]})]})]})})}},9766:function(e,n,t){"use strict";var o=t(72208),a=t(56008),i=t(86006),l=t(89677),r=t(42939),c=t(89277),u=t(8922),s=t(97669),d=t(2745);n.Z=()=>{let[e,n]=(0,i.useState)(""),[t,v]=(0,i.useState)(""),[f,g]=(0,i.useState)(""),{user:h,token:m,setUser:y,setToken:w,updatePhoneNumberOfUser:p}=(0,s.L)(e=>e),{count:_,setWishlist:b}=(0,d.Y)(e=>e),[S,k]=(0,i.useState)("/"),C=(0,a.useRouter)(),T=(0,a.usePathname)(),x=(0,a.useSearchParams)(),j=new URLSearchParams(x);j.delete("redirect");let I=x.get("redirect");(0,l.a)({queryKey:["getUserByToken",m||""],queryFn:()=>(0,c.TO)(m),enabled:!!m,onSuccess:e=>{var n,t;y(null==e?void 0:null===(t=e.data)||void 0===t?void 0:null===(n=t.body)||void 0===n?void 0:n.data)},onError:e=>{N(),console.log(e)}});let N=()=>{let e=m||localStorage.getItem("accessToken");if(!e){w(null);return}let n=e.split(".")[1];if(!n){w(null);return}let t=n.replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")),a=JSON.parse(o);if(!a||!a.exp){w(null);return}let i=1e3*a.exp,l=Date.now();if(l<i)w(e);else{let e=localStorage.getItem("refreshToken");if(e)g(e);else{w(null);return}}},L=(0,r.D)({mutationFn:u.nL,onSuccess:(e,n,t)=>{var o,a,i,l,r,c,u,s,d,v,f,g;localStorage.setItem("accessToken",null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(a=i.body)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.accessToken),localStorage.setItem("refreshToken",null==e?void 0:null===(c=e.data)||void 0===c?void 0:null===(r=c.body)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.refreshToken),w(null==e?void 0:null===(d=e.data)||void 0===d?void 0:null===(s=d.body)||void 0===s?void 0:null===(u=s.data)||void 0===u?void 0:u.accessToken),y(null==e?void 0:null===(g=e.data)||void 0===g?void 0:null===(f=g.body)||void 0===f?void 0:null===(v=f.data)||void 0===v?void 0:v.user),C.push("/login")}}),P=(0,r.D)({mutationFn:u.sm,onSuccess:(e,n,t)=>{var o,a,i,l,r,c,u,s,d,v,f,h,m,p,_;localStorage.setItem("accessToken",null==e?void 0:null===(i=e.data)||void 0===i?void 0:null===(a=i.body)||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:o.accessToken),localStorage.setItem("refreshToken",null==e?void 0:null===(c=e.data)||void 0===c?void 0:null===(r=c.body)||void 0===r?void 0:null===(l=r.data)||void 0===l?void 0:l.refreshToken),y(null==e?void 0:null===(d=e.data)||void 0===d?void 0:null===(s=d.body)||void 0===s?void 0:null===(u=s.data)||void 0===u?void 0:u.user),w(null==e?void 0:null===(h=e.data)||void 0===h?void 0:null===(f=h.body)||void 0===f?void 0:null===(v=f.data)||void 0===v?void 0:v.accessToken),g(null==e?void 0:null===(_=e.data)||void 0===_?void 0:null===(p=_.body)||void 0===p?void 0:null===(m=p.data)||void 0===m?void 0:m.accessToken),null===I?C.push("/"):C.push("".concat(I).concat(j))}}),z=(0,r.D)({mutationFn:e=>(0,u.Rl)(e,m),onSuccess:(e,n,t)=>{p(n.customer_number)}}),U=(0,o.Nq)({onSuccess:e=>{n(e.access_token)},onError:e=>console.log("Login Failed:",e)}),F=(0,l.a)({queryKey:["user",e],queryFn:()=>(0,c.y5)(e),onSuccess:e=>{var n,t,o,a,i,l,r,c,u,s,d,v;localStorage.setItem("accessToken",null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(t=o.body)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.accessToken),localStorage.setItem("refreshToken",null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(i=l.body)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.refreshToken),y(null==e?void 0:null===(u=e.data)||void 0===u?void 0:null===(c=u.body)||void 0===c?void 0:null===(r=c.data)||void 0===r?void 0:r.user),w(null==e?void 0:null===(v=e.data)||void 0===v?void 0:null===(d=v.body)||void 0===d?void 0:null===(s=d.data)||void 0===s?void 0:s.accessToken),null===x.get("redirect")||("/login"===T&&null===x.get("redirect")?C.push("/"):C.push("".concat(I).concat(j)))},enabled:!!e});return(0,l.a)({queryKey:["user",t],queryFn:()=>(0,c.Ff)(t),onSuccess:e=>{var n,t,o,a,i,l,r,c,u,s,d,v;localStorage.setItem("accessToken",null==e?void 0:null===(o=e.data)||void 0===o?void 0:null===(t=o.body)||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.accessToken),localStorage.setItem("refreshToken",null==e?void 0:null===(l=e.data)||void 0===l?void 0:null===(i=l.body)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.refreshToken),w(null==e?void 0:null===(u=e.data)||void 0===u?void 0:null===(c=u.body)||void 0===c?void 0:null===(r=c.data)||void 0===r?void 0:r.accessToken),y(null==e?void 0:null===(v=e.data)||void 0===v?void 0:null===(d=v.body)||void 0===d?void 0:null===(s=d.data)||void 0===s?void 0:s.user),null===I?C.push("/"):C.push("".concat(I).concat(j))},enabled:!!t}),(0,l.a)({queryKey:["getUserWishlist",h,_],queryFn:()=>(0,c.AH)(m,null==h?void 0:h.uuid),enabled:!!h,onSuccess:e=>{b(e.data.body.data.data)}}),{getToken:()=>m,googleLogin:U,manualLoginMutation:P,navigate:e=>{k(e)},Logout:()=>(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),y(null),w(null),window.location.reload(),!0),verifyToken:N,fetchFacebookUserData:e=>{v(e)},fetchGoogleUserData:F,getSetPhoneNumber:()=>({...z}),signupMutation:L}}},2745:function(e,n,t){"use strict";t.d(n,{Y:function(){return i}});var o=t(82561),a=t(18102);let i=(0,o.Ue)((0,a.Z)(e=>({wishlistItems:[],count:0,addToWishlist:n=>e(e=>({...e,wishlistItems:[...e.wishlistItems,n],count:e.count+1})),removeFromWishlist:n=>e(e=>({...e,wishlistItems:e.wishlistItems.filter(e=>e!==n),count:e.count-1})),setWishlist:n=>e(e=>({...e,wishlistItems:n,count:n.length}))})))},62911:function(e){e.exports={SignDiv:"SignInModal_SignDiv__fg8YY",bannerText:"SignInModal_bannerText__qKZkW",signup_content__line_break:"SignInModal_signup_content__line_break__jLGDT",divider:"SignInModal_divider__JVJVT",signup_content__or:"SignInModal_signup_content__or__4OjbM",modal:"SignInModal_modal__Orrns",cross:"SignInModal_cross__GmqPK"}}}]);
//# sourceMappingURL=480-786538d7bd4c8df3.js.map